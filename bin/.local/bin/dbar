#!/bin/sh
# outputs basic info to xroot for the dwm status bar

SEP=" | "

status() {
    if [ -d /sys/class/power_supply/BAT0 ]; then
        printf " %s$SEP%s$SEP%s$SEP%s$SEP%s$SEP%s$SEP%s"
        "$(dpomo)"
		"cpu: $(dcpu)"
		"bat: $(dbat)"
		"vol: $(dvol)"
		"wg: $(dwg)"
		"mem: $(dmem)"
		"$(dtime)"
    else
        printf " %s$SEP%s$SEP%s$SEP%s$SEP%s$SEP%s"
		"$(dpomo)"
		"cpu: $(dcpu)"
		"vol: $(dvol)"
		"wg: $(dwg)"
		"mem: $(dmem)"
		"$(dtime)"
    fi
}

while true; do
    xsetroot -name "$(status)"
    sleep 1
done
